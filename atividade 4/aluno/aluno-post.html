<!DOCTYPE html>
<html>
<head>
    <title>Alunos</title>
</head>
<body>
    <p> Criar aluno </p>
    <form onsubmit="cadastrarAluno(event)">
        <label for="nome">Nome: </label>
        <input type="text" id="nome" name="nome" required/> <br />

        <label for="curso">Curso: </label>
        <input type="text" id="curso" name="curso" required/> <br />

        <label for="ira">IRA: </label>
        <input type="number" id="ira" name="ira" step="any" required/> <br />

        <button type="submit">CADASTRAR</button>
    </form>
    <script>
        async function cadastrarAluno(event) {
            event.preventDefault()

            const nome = document.getElementById("nome").value
            const curso = document.getElementById("curso").value
            const ira = document.getElementById("ira").value

            const aluno = {nome, curso, ira}

            const response = await fetch("http://localhost:3000/alunos/cadastrar",
                {
                    method: "POST",
                    headers: {"Content-Type": "application/json"},
                    body: JSON.stringify(aluno)
                }
            )
            const json = await response.json()
            console.log(json)
        }
    </script>
</body>
</html>